"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.problem = exports.noContent = exports.created = exports.ok = void 0;
var server_1 = require("next/server");
var errors_1 = require("./errors");
var ok = function (data) { return server_1.NextResponse.json({ data: data }, { status: 200 }); };
exports.ok = ok;
var created = function (data) { return server_1.NextResponse.json({ data: data }, { status: 201 }); };
exports.created = created;
var noContent = function () { return new server_1.NextResponse(null, { status: 204 }); };
exports.noContent = noContent;
var problem = function (e) {
    if (e instanceof errors_1.ValidationError)
        return server_1.NextResponse.json({ error: e.message }, { status: 400 });
    if (e instanceof errors_1.NotFoundError)
        return server_1.NextResponse.json({ error: e.message }, { status: 404 });
    if (e instanceof errors_1.ConflictError)
        return server_1.NextResponse.json({ error: e.message }, { status: 409 });
    var msg = e instanceof errors_1.DomainError ? e.message : "Internal server error";
    return server_1.NextResponse.json({ error: msg }, { status: 500 });
};
exports.problem = problem;
